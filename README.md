# ğŸ”® Customer Churn Prediction API

This project is a full end-to-end machine learning pipeline that predicts customer churn using Telco customer data. It includes data preprocessing, model training and evaluation, and real-time prediction via a FastAPI endpoint served with Swagger UI.

---

## ğŸ“Œ Project Highlights

- ğŸ“Š Data cleaning, feature encoding, and scaling
- ğŸ§  Trained models: Logistic Regression & Random Forest
- ğŸ” Hyperparameter tuning using GridSearchCV
- ğŸ“ˆ Evaluation with ROC Curve & AUC
- ğŸš€ Deployed via FastAPI with `/predict` endpoint
- ğŸŒ Swagger UI automatically available at `/docs`

---

## ğŸ› ï¸ Tech Stack

| Layer              | Tools & Libraries                        |
|-------------------|------------------------------------------|
| Language          | Python 3.10+                             |
| ML/EDA            | pandas, scikit-learn, numpy, matplotlib  |
| Deployment        | FastAPI, Uvicorn, Joblib                 |
| Docs              | Swagger UI (auto-generated by FastAPI)   |

---

## ğŸ§  ML Pipeline Overview

### 1. Data Cleaning & Encoding
- Handled nulls and invalid types in `TotalCharges`
- Label-encoded binary features
- One-hot encoded categorical multi-class features

### 2. Model Training
- Trained Logistic Regression and Random Forest
- Compared performance using precision, recall, F1, and AUC

### 3. Hyperparameter Tuning
- Used `GridSearchCV` for tuning Random Forest
- Best model saved using `joblib`

### 4. API Inference
- FastAPI app accepts 30-feature JSON input
- Predicts churn in real-time

---

## ğŸ“‚ Folder Structure

customer_churn_ml/
â”œâ”€â”€ app/ # FastAPI app with predict_api.py
â”œâ”€â”€ data/ # Raw Telco CSV dataset
â”œâ”€â”€ models/ # joblib model & scaler
â”œâ”€â”€ notebooks/ # EDA & training notebooks
â”œâ”€â”€ scripts/ # (optional) modular code
â”œâ”€â”€ requirements.txt # Python dependencies
â””â”€â”€ README.md # This file


---

## ğŸš€ Run Locally

### âœ… 1. Clone the repo

```bash
git clone https://github.com/SanduniDisanayakaCS/churn-prediction-api.git
cd churn-prediction-api

âœ… 2. Set up environment

python -m venv venv
.\venv\Scripts\activate    # Windows
pip install -r requirements.txt

âœ… 3. Launch the API

uvicorn app.predict_api:app --reload

Open Swagger UI at:
ğŸ‘‰ http://127.0.0.1:8000/docs

ğŸ” Test Prediction
ğŸ”§ Sample JSON

{
  "features": [0, 1, 0, 1, 0, 45, 1, 0, 70.7, 151.65, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1]
}

âœ… Sample Response

{
  "churn_prediction": 1
}

ğŸ“Š Model Evaluation
Metric	Logistic Regression	Random Forest
Accuracy	79%	79%
AUC Score	0.83	0.82

ğŸ’¡ Author
Sanduni Disanayaka
ğŸ”— GitHub: https://github.com/SanduniDisanayakaCS/churn-prediction-api
ğŸ”— App: https://churn-prediction-api-cxkoo7ezenesva7zrr2nyd.streamlit.app/
